## V8引擎垃圾回收 ##

v8中堆栈内存有两种，新生代和老生代。新生代存一些比较小和生命周期短的对象，老生代存一些大的和生命周期较长的对象。

### 新生代垃圾回收算法
采用Scavenge算法，把一块内存分为活动对象区域和空闲区域。
当活动区域要满的时候进行垃圾回收，采用标记清除算法来标记对象是否存活，和老生代的标记算法一样。
然后把存活的对象copy到空闲区域，再清空之前的活动区域，然后两者转化角色，如此往返。
注意：这里的对象不会太多，清除过程忽略js全停顿问题。


### 老生代垃圾回收算法
采用标记清除算法
从调用栈的根节点开始递归，凡是达不到的对象，或者说访问不到的对象就认为是垃圾对象，移除掉垃圾对象。
因为移除了垃圾对象，内存空间就会变得碎片化，不连续。 
接下来进行标记整理，把对象都向一端移动保证内存连续。因为标记过程js需要全停顿比较耗时，v8采用增量标记方法把标记分割成一个个小的任务进行。