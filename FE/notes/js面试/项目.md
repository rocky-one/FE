我叫xxx，山东人，8年前端开发经验，做过B端和C端项目，B端偏多一些。有预算管理类、低代码平台、医疗VR相关的一些项目。 
常用的技术栈有react、vue、nodeJs略懂一点webGl。研究过react、vue部分功能的源码。开源过一个react状态管理库、类excel表格组件。
比较擅长前端项目架构搭建、性能优化、业务层逻辑抽象、新技术研究。
带过前端团队，5-10个人的规模。
以上就是我的基本情况。



## 聊聊架构
我觉着前端架构就是把复杂的问题简单化。
遵循几个原则吧
1. 规范化，从代码规范eslint校验、git提交规范、部署规范等。...
2. 易用性，架构整体要让开发人员容易上手，降低使用成本。这一点我觉着vue本身的设计就很不错，一套完整的使用规范，按照规范写就好了。
3. 易扩展，新功能拓展起来方便，架构层面的易扩展比如怎么设计可以让权限系统更加便捷。组件层面的易扩展 比如新增功能如何不影响老功能。
4. 稳定性，做好错误处理，js运行时错误，异步错误(unhandledrejection)等，防止白屏，错误上报及时发现错误。
5. 松耦合，比如UI层和业务层如何解耦，整体结构分层要清晰。可以独立services层做数据获取、转换、业务逻辑处理，其实类似于领域层模块开发。让UI层足够轻量。
架构是一个随着项目迭代升级不断完善的过程，根据业务需求不断调整和优化，符合业务的架构才是好架构。

## 什么是领域层
领域层是以某一个功能模块为单位的一种存在。与UI层解耦，与前端框架解耦。

## 性能优化
分两块内容一个网络层面的优化，一个是代码层面的优化。工具可以使用pageSpeed、lighthouse
网络层：
1. 做好首屏和非首屏的代码分割，尽最大可能减少js/css包，改变JS阻塞的方式，首屏用不到的代码采用prefetch方式进行加载
2. 采用gzip压缩，或者无损压缩算法Brotli(br)一种比gzip效率更高的压缩方式，减小包的大小
3. 减少http1.1的使用，采用http2，因为http1.1最多6个tcp连接的限制，使得加载资源容易被阻塞
4. 静态资源使用CDN，当服务器离用户越远时，延迟越高，CDN就是解决这个问的
   1) 网络就近传输：CDN在全球范围内建设了多个节点服务器，这些服务器分布在不同的地理位置上。当用户发起访问请求时，CDN会根据用户的地理位置将请求转发到距离用户最近的服务器节点。这样就能够减少数据在传输过程中的延迟，提高加载速度。

   2) 缓存技术：CDN服务器会缓存用户经常访问的静态文件，如图片、视频等。当用户再次访问这些文件时，请求会直接由CDN节点服务器返回，而不需要再次从源服务器请求文件。这种缓存技术能够显著提高访问速度，减轻源服务器的压力。

   3) 负载均衡：CDN采用负载均衡算法，能够根据服务器的负载情况将用户请求分发到不同的服务器上。这样可以避免某一台服务器过载，保证各服务器的负载均衡，提高访问速度。


5. 做好HTTP缓存机制
  Cache-Control：
    1) max-age：用来设置资源（representations）可以被缓存多长时间，单位为秒；
    5) no-cache：强制客户端直接向服务器发送请求,也就是说每次请求都必须向服务器发送。
  Last-Modified / If-Modified-Since
    服务器响应请求时，会告诉浏览器一个告诉浏览器资源的最后修改时间：Last-Modified，浏览器之后再请求的时候，会带上一个头：If-Modified-Since，这个值就是服务器上一次给的 Last-Modified 的时间，服务器会比对资源当前最后的修改时间，如果大于If-Modified-Since，则说明资源修改过了，浏览器不能再使用缓存，否则浏览器可以继续使用缓存，并返回304状态码。
  Etag  /  If-None-Match（优先级高于Last-Modified  /  If-Modified-Since）
    服务器响应请求时，通过Etag头部告诉浏览器当前资源在服务器的唯一标识（生成规则由服务器决定），浏览器再次请求时，就会带上一个头If-None-Match，这个值就是服务器上一次给的Etag的值，服务器比对一下资源当前的Etag是否跟If-None-Match一致，不一致则说明资源修改过了

代码层：
1. 动画采用css3，独立层，gpu加速渲染
2. 防抖和节流
3. 减少重绘和回流
4. webp格式图片，懒加载
5. 长列表性能优化
6. 事件绑定注意销毁，dom引用移除，不使用的全局变量及时释放，避免内存泄露
7. 大计算量代码中采用更优的算法，时间分片或者worker，不占用主线程保证用户操作流畅
8. 接口数据缓存，PWA缓存等

## webpack打包速度优化
1. 多进程构建HappyPack（作者已经不维护）、thread-loader
2. 缓存cache-loader，配置exclude & include
3. 使用webpack.DllPlugin，先打包第三方库代码。

webpack插件，开发过自动部署的插件
```
class MyExampleWebpackPlugin {
  // 在插件函数的 prototype 上定义一个 `apply` 方法，以 compiler 为参数。
  apply(compiler) {
    // 指定一个挂载到 webpack 自身的事件钩子。
    // 打包完成，输出到本地文件夹之前'emit'
    compiler.hooks.emit.tap(
      'MyExampleWebpackPlugin',
      (compilation, callback) => {
        callback();
      }
    );
  }
}

```



## 项目亮点描述
性能优化:
1. table表格canvas绘制，采用虚拟滚动，解决大数据量渲染性能问题。根据滚动条scrollTop计算当前从哪条数据开始渲染。
2. 算法层：时间分片解决初始化时数据量大，计算占用主线程时间太长问题。
3. 数据层：对象内存优化，指针

js加载优化，首页必须加载采用preload,立即加载的方式。非首页采用prefetch浏览器空闲时加载。
图片http1加载问题


### 玩法库
项目的负责人，任务分配，各个部门之间沟通协调。完善使用文档。
1. 模版分多个版本，B端基于模版的版本新建玩法实例，每个玩法实例有唯一id。
2. C端引用SDK，传入ID，SDK调取当前实例的配置信息加载对应的版本代码包和参数。
3. 模版升级，只需要在实例配置页面点击升级，即可把当前实例生成最新版本的模版。
4. C端无需改动，刷新页面SDK先获取实例的配置，根据配置拉取对于版本的代码包。


### 预算项目
1. 项目负责人，架构搭建，任务分配，进度把控。
2. 使用canvas表格，虚拟滚动，指针复用。
3. 初始化数据时间分片处理，采用根据react fiber架构算法，保证主线程流畅。
4. 封装了rxjs-esay-store状态管理库。


### OKR?
  1. 目标是什么
  2. 如何达到也就是定方案
  3. 需要可量化
  4. 月度review OKR

### 最大的优势有哪些？
1. 技术能力强，解决过很多技术难题，架构搭建、性能优化。接触过项目多，项目经验比较丰富。能解决项目中大部分技术问题。
2. 有从0-1的项目经验，以及团队搭建经验。能带团队，沉淀了一些团队管理的经验。
3. 有好的沟通和协调能力，包括团队内部的沟通和跨部门之间的沟通，解决部门间的协作。玩法库的开发，跨部门和产品沟通，介绍我们团队的小游戏。排期不一致问题？吃个饭、或者上级

### 团队管理？
  1. 分两个阶段，或者两种情况，第一种针对比较懒散的团队，采用集权管理。把每个人的目标明确到足够细，做好任务排期工作，每周可以用周会的形式push跟进大家的进度，
     做code review 让开发人员知道有人会看他们写的代码，这样他在写的时候就会多一些考虑，心态上会更加谨慎。参与技术讨论方案落地，提出有建设性的意见这样可以让员工更加信服。
  2. 第二种，针对比较积极的团队，采用慢慢放权，这个时候团队之间的合作，开发流程基本稳定，把握大方向没有走偏。让每个人的发挥空间更大一些，独立负责一些项目等。
看团队适合哪种吧。比较懒散的团队就第一种。也可以由一慢慢过度到二。

### 如何激励团队积极性?
  1. 定目标，个人目标，例如优化某个功能代码逻辑。
  2. 让团队成员有成就感，例如完成一个技术难点时给予公开表扬
  3. 给予更多的成长空间，适当放权，可以根据擅长去分配，例如单独负责一个项目等
  4. 使用奖励来激励，激励人的方式不一定是钱，100个人有100个人的不同的需求，了解他们的需求，照顾他们的情绪。
  5. 末位淘汰，让每个人有不努力就会被淘汰的危机感。

### 如何管理懒散的员工？
  1. 定目标，让员工知道接下来要做什么？然后定方案，就是怎么做的问题。接下来第二点就是排期。
  2. 工作排期，对于开发来说这个是必须的，懒散的人可能时间观念会差一些，或者心态上不积极，明确完成时间起到督促进度的作用。一般我比较喜欢站会和周会的方式。
  3. 对于开发来说定期做code review很有效果，从心里上会影响一个人对写代码这个事情的注重程度，有人review那他写的时候就会多考虑一些。
  4. 如果说就是有些员工搞特殊，经常犯错，沟通无效，那需要做一些惩罚措施，绩效？公开批评？
这属于集权管理。

### 团队建设？
  1. 能力培养或者说培养人才
  2. 分工协作
  3. 奖励惩罚政策
  4. leader需要主动承担责任，让团队成员更加凝聚和责任心

### 新到一个团队怎么做？
  1. 先当前业务，项目目前进度完成情况，本地迭代周期，以及后续的规划等这些大的方向上有个基本的认识。
  2. 先了解团队整体，熟悉每个人的情况。
  3. 不要忙于改变团队的现状，稳定住目前的状况，不论是技术栈架构上，团队合作方式上，整个工作流程等，不断了解团队和业务，找出目前的问题以及对应的解决方案，再去慢慢优化，这一点很重要。
  4. leader需要主动承担责任，让团队成员更加凝聚和责任心

### 自己的优缺点？
  1. 优，稳重，对于项目的风险意识比较高，善于复盘总结，善于学习研究解决一些复杂问题。
  2. 缺，强迫症，不解决技术问题心里始终放不下，解决不了不喝水也不去厕所，影响健康。 犹豫，不够果断

### 阐述上家离职原因？
个人原因：职位晋升遇到瓶颈，个人居住地变更，个人生活方面等原因。
公司原因：公司内部调整岗位，导致与个人职业规划不符。


### 要提问的问题：
1. 目前做的有哪些产品？
2. 前端部门主要负责哪些产品？
3. 您是前端整个团队的leader是吗？



### 你是怎么管理团队的，如何保证进度
1. 首先根据项目整体迭代里程碑进行任务分解和排期，排期具体到1人天。
2. 每日站会，目的是了解每个人的进度和遇到的问题，有问题及时抛出讨论。同时可以督促大家的开发进度。
3. 进行代码review，可以让每个人写代码的时候更加谨慎和有更多的思考，写出高质量的代码。