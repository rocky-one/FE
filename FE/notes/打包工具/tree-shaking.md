## tree-shaking ##

#### 简单说就是把没有用到的代码在打包的时候移除掉来减少js文件的大小。

原理:

es6通过import来导入模块，这些关系是静态确定的，和运行是无关，tree-shaking就是靠这些静态分析来做代码优化的。

tree-shaking特点：
1. 只处理函数和顶层的import/export变量。
2. 不能处理未使用的类方法(可能有副作用存在。ES6类内部声明的方法，是不可枚举的，而通过原型链声明的方法是可以枚举的，不可枚举的方法通过objectDefined处理后会被包装成IIFE函数)。
3. 不能处理IIFE(立即调用)函数(函数会被立即执行不能确定函数内部做了什么，可能有副作用存在)。

总结：
1. 尽量不写有副作用的函数。
2. 如果对ES6语义特性要求不是特别严格，可以开启babel的loose模式，这个要根据自身项目判断，如：是否真的要不可枚举class的属性。
3. 如有条件，也可为自己的库开发单独的webpack-loader，便于用户按需加载。
4. webpack在rules里设置sideEffects选项，也可以在package.json里添加具体哪个文件有副作用，当然这也只能针对业务代码，第三方包不行。